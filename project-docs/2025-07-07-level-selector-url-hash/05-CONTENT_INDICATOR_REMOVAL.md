# 05. コンテンツインジケーター機能の完全削除

**作成日時**: 2025-07-08 00:13  
**作成者**: CEO  
**対応課題**: サイドバー内の冗長なコンテンツインジケーター削除

## 背景と判断

### 問題
- サイドバー内にレベル切り替えボタンとコンテンツインジケーター（Level 1 基本情報 6項目など）が重複表示
- 250px幅のサイドバーからはみ出していた
- レベル切り替えボタンで現在のレベルは明確なため、インジケーターは完全に冗長

### 決定
- metformin-refined.htmlが全22薬剤ページのテンプレートとなる
- 将来的にすべてのページがサイドバーレイアウトを採用
- コンテンツインジケーター機能は完全に不要

## 削除内容

### CSS（level-selector.css）
1. コンテンツインジケーターセクション全体（約45行）
2. レスポンシブ対応内の関連スタイル（約18行）
3. ダークモード対応内の関連スタイル（約8行）
4. サイドバー内の非表示ルール（不要になったため簡略化）

### JavaScript（level-selector.js）
1. 関数削除
   - `updateContentIndicators()` - コンテンツ数計算・表示更新
   - `createContentIndicator()` - DOM要素作成
   - `updateIndicatorState()` - アクティブ状態更新

2. 呼び出し削除
   - 初期化時の `updateContentIndicators()` → `addLevelTransitionPrompts()` に変更
   - レベル切り替え時の `updateIndicatorState()`
   - デバッグ関数内の確認処理

## 効果
- サイドバーのはみ出し問題が根本的に解決
- コード量削減（CSS: 約71行、JS: 約70行）
- 保守性向上（不要な機能の削除）
- UI/UXのシンプル化