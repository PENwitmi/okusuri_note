# トップページへ戻るボタン テスト計画書

**作成日**: 2025-07-12  
**プロジェクト**: OkusuriNote  
**テスト対象**: ホームナビゲーションボタン機能

## 1. テスト概要

### 目的
薬剤個別ページに追加する「トップページへ戻る」ボタンが、すべての環境で正しく動作することを確認する。

### テスト範囲
- 機能テスト：リンクの動作確認
- UI/UXテスト：表示位置、デザインの確認
- レスポンシブテスト：PC/モバイル両環境での動作
- 互換性テスト：主要ブラウザでの動作確認

## 2. テスト環境

### ブラウザ
- Chrome（最新版）
- Safari（最新版）
- Firefox（最新版）
- Edge（最新版）

### デバイス
- **PC**: Windows 11, macOS
- **タブレット**: iPad（Safari）
- **スマートフォン**: iPhone（Safari）、Android（Chrome）

### テスト用URL
- ローカル環境: `http://localhost:8000/`
- GitHub Pages: `https://penwitmi.github.io/okusuri_note/`

## 3. テストケース

### 3.1 機能テスト

#### TC001: PCサイドバーのホームボタン動作確認
**前提条件**: PCブラウザで薬剤個別ページを開いている
**手順**:
1. 薬剤個別ページ（例：drugs/metformin.html）を開く
2. サイドバーの「🏠 トップページへ戻る」をクリック
**期待結果**: index.htmlに遷移する

#### TC002: モバイルbottom-sheetのホームボタン動作確認
**前提条件**: モバイルブラウザで薬剤個別ページを開いている
**手順**:
1. 薬剤個別ページを開く
2. 📋ボタンをタップしてbottom-sheetを開く
3. 「🏠 トップページへ戻る」をタップ
**期待結果**: index.htmlに遷移する

#### TC003: 相対パスの正確性確認
**前提条件**: 各ディレクトリの薬剤ページ
**手順**:
1. drugs/内のページで確認
2. drugs-v3/内のページで確認
**期待結果**: どちらも ../index.html で正しく遷移

### 3.2 UI/UXテスト

#### TC004: 配置位置の確認（PC）
**前提条件**: PCブラウザ
**確認項目**:
- [ ] 学習レベル選択セクションの直下に配置されている
- [ ] 関連薬剤セクションの上に配置されている
- [ ] セクションタイトルが「🏠 ナビゲーション」である
- [ ] 説明文が「薬剤一覧・特集ページ」である

#### TC005: 配置位置の確認（モバイル）
**前提条件**: モバイルブラウザ
**確認項目**:
- [ ] bottom-sheet内で学習レベル選択の直下に配置
- [ ] セクションタイトルが「🏠 ナビゲーション」である
- [ ] 矢印（→）が表示されている

#### TC006: デザイン一貫性の確認
**確認項目**:
- [ ] 既存のsidebar-linkスタイルが適用されている
- [ ] ホバー効果が他のリンクと同じ
- [ ] アイコン（🏠）が正しく表示されている

### 3.3 レスポンシブテスト

#### TC007: ブレークポイントでの表示切替
**手順**:
1. PCサイズ（1024px以上）で表示確認
2. タブレットサイズ（768px-1023px）で表示確認
3. モバイルサイズ（767px以下）で表示確認
**期待結果**:
- PC/タブレット：サイドバーに表示
- モバイル：bottom-sheetに表示

### 3.4 回帰テスト

#### TC008: 既存機能への影響確認
**確認項目**:
- [ ] 学習レベル切替が正常に動作する
- [ ] 関連薬剤リンクが正常に動作する
- [ ] 薬効群リンクが正常に動作する
- [ ] モバイルのbottom-sheet開閉が正常

## 4. テスト実施手順

### Phase 1: パイロットテスト
1. metformin.html（最新版）で全テストケース実施
2. metformin-v3.html（v3版）で全テストケース実施
3. 問題があれば修正

### Phase 2: サンプリングテスト
各ディレクトリから代表的なファイルを選択：
- drugs/: 全3ファイル
- drugs-v3/: 5ファイル程度をランダム選択

### Phase 3: 最終確認
1. GitHub Pagesにデプロイ
2. 本番環境での動作確認
3. 異なるデバイスでのクロスチェック

## 5. 不具合時の対応

### 優先度分類
- **Critical**: リンクが動作しない
- **Major**: 表示位置が大きくずれる
- **Minor**: デザインの軽微な差異

### エスカレーション
1. Criticalな不具合：即座に修正
2. Major不具合：実装を一時停止して修正
3. Minor不具合：全体実装後にまとめて修正

## 6. テスト完了基準

### 必須項目
- [ ] すべてのCriticalテストケースがPASS
- [ ] PC/モバイル両環境で動作確認完了
- [ ] 主要ブラウザでの動作確認完了

### 推奨項目
- [ ] すべてのテストケースで95%以上PASS
- [ ] パフォーマンスへの影響なし
- [ ] アクセシビリティ基準を満たす

## 7. テストレポート形式

```markdown
## テスト実施結果
**実施日**: YYYY-MM-DD
**実施者**: [名前]
**環境**: [ブラウザ/デバイス]

### テストケース結果
| TC ID | テスト内容 | 結果 | 備考 |
|-------|-----------|------|------|
| TC001 | PCホームボタン | PASS/FAIL | |
| TC002 | モバイルホームボタン | PASS/FAIL | |

### 発見された問題
1. [問題の詳細]
2. [対応状況]
```

## 8. 次のステップ

1. _template-v3.htmlの更新実施
2. パイロットテストの開始
3. テスト結果のドキュメント化