# 統一ルール違反の発見と修正計画

**作成日時**: 2025-07-02 18:19  
**作成者**: CEO  
**緊急度**: 高（統一ルール違反）

---

## 🚨 発見された違反事項

### 1. HTMLインラインスタイル
**ルール**: HTMLのstyle=""属性は完全禁止
**違反状況**: Ver2 HTMLファイルに3箇所残存

```html
<!-- metformin-v2-components.html -->
151: <div style="background: #ffcdd2; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
504: <div style="background: #f8bbd9; padding: 1rem; border-radius: 8px; margin-top: 1rem; text-align: center;">
804: <div style="background: #c8e6c9; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
```

### 2. CSS内の色直接コード
**ルール**: 色は必ずCSS変数で定義・使用
**違反状況**: ver2-unified.cssに多数存在

```css
/* 問題のある定義 */
--cardio-oxygenated: #d32f2f;
--endo-stimulus: #388e3c;
--cns-excitatory: #d32f2f;
/* 他多数 */
```

---

## 📋 統一ルールの正しい理解

### CSS統一化の本質
1. **完全外部化**: すべてのスタイルはCSSファイルで管理
2. **変数化の徹底**: 色・サイズ・間隔はすべて変数
3. **再利用性**: 同じ値は一箇所で定義
4. **保守性**: 変更が一箇所で完結

### 禁止事項
- ❌ `style=""`属性の使用
- ❌ `#ffffff`等の直接色指定
- ❌ `16px`等の直接サイズ指定（特別な理由がない限り）
- ❌ 重複した定義

### 推奨事項
- ✅ すべてクラスで管理
- ✅ CSS変数の活用
- ✅ 既存変数の再利用
- ✅ セマンティックな命名

---

## 🔧 修正計画

### Phase 1: インラインスタイル除去（10分）
1. 3箇所のインラインスタイルを特定
2. 適切なクラス名を決定
3. CSSクラスとして定義
4. HTMLを修正

### Phase 2: 色直接コード修正（20分）
1. 直接色コードをすべて抽出
2. 既存変数でマッピング可能か確認
3. 必要なら新規変数を:rootに追加
4. 直接コードを変数参照に置換

### Phase 3: 検証（10分）
1. 違反がゼロになったか確認
2. 表示が崩れていないか確認
3. 統一性が保たれているか確認

---

## 📊 現在の準拠状況（修正前）

| 項目 | 状況 | 詳細 |
|------|------|------|
| インラインスタイル排除 | ❌ 違反 | 3箇所残存 |
| 色の変数化 | ❌ 部分違反 | 直接コード多数 |
| 外部CSS化 | ✅ 準拠 | ver2-unified.cssで管理 |
| 変数活用 | ⚠️ 部分準拠 | 一部は変数使用 |

---

## 🎯 修正後の目標

- インラインスタイル: 0箇所
- 直接色コード: 0箇所
- CSS変数使用率: 100%
- 統一ルール準拠率: 100%