# CSS統一ルールの明確化

**作成日時**: 2025-07-02 18:21  
**作成者**: CEO  
**目的**: CSS統一ルールの正確な理解と適用基準の明確化

---

## 📌 統一ルールの基本原則

### 1. HTMLレベルのルール
- ❌ **禁止**: `style=""`属性（インラインスタイル）
- ✅ **推奨**: すべてのスタイルはクラス経由でCSSファイルから適用

### 2. CSSレベルのルール

#### :root内（変数定義）
- ✅ **許可**: 色の直接指定
```css
:root {
  --pharma-primary: #1e5c8a;  /* これはOK - 変数定義だから */
  --text-body: #374151;       /* これもOK */
}
```

#### 通常のCSSルール内
- ⚠️ **議論の余地あり**: 直接色指定の扱い

---

## 🔍 統一ルールの解釈

### 厳格解釈（最も厳しい）
```css
/* すべて変数経由 */
.example {
  color: var(--text-primary);
  background: var(--bg-primary);
  border: 1px solid var(--border-color);
}
```

### 現実的解釈（Ver2_CSS_UNIFIED_RULES.mdの例）
```css
/* ドキュメント内の実例 */
.level-1-content {
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.08); /* 影の指定 */
}
```

このrgba指定は統一ルール策定書内で使われているので、以下が考えられます：

1. **影やグラデーションは例外的に許可**
   - 微妙な透明度調整が必要な場合
   - 特殊効果の実現

2. **基本色は変数必須、装飾的効果は直接指定可**
   - 文字色、背景色、ボーダー色 → 変数必須
   - 影、グラデーション → 直接指定可

---

## 📊 現在のver2-unified.cssの状況

### :root内の変数定義（完全に正当）
- 基本色の定義: #1e5c8a等
- これらは変数定義なので問題なし

### クラス定義内の使用
1. **変数使用（推奨）**: 
   - `color: var(--pharma-primary)`
   - `background: var(--bg-study)`

2. **直接指定（要確認）**:
   - `box-shadow: 0 2px 8px rgba(33, 150, 243, 0.08)`
   - `background: linear-gradient(...)`

---

## 🎯 推奨される統一ルール適用基準

### 必須（MUST）
1. HTMLインラインスタイル禁止
2. 主要な色（文字、背景、ボーダー）は変数使用

### 推奨（SHOULD）
1. 影の色も可能な限り変数化
2. グラデーションの基準色も変数使用

### 許容（MAY）
1. 微妙な透明度調整（rgba）
2. 複雑なグラデーション効果
3. 特殊な視覚効果

---

## 💡 実践的な判断基準

### 変数化すべきもの
- **再利用される色**: 複数箇所で使う
- **ブランドカラー**: 統一感に影響
- **テーマ変更対象**: 将来変更の可能性

### 直接指定でも許容されるもの
- **一度きりの効果**: その場所固有
- **微調整**: 0.08のような細かい透明度
- **計算値**: CSS関数での動的値

---

## 📋 結論

統一ルールの本質は「保守性」と「一貫性」です：

1. **HTMLインラインスタイル**: 完全禁止（明確）
2. **CSS内の色指定**: 
   - 基本は変数使用
   - 特殊効果は状況に応じて判断
   - 統一ルール策定書の例に従う

現在のver2-unified.cssは、この解釈に基づけば概ね適切です。
ただし、可能な限り変数化を進めることで、より高い保守性を実現できます。